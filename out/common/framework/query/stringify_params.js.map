{"version":3,"sources":["../../../../src/common/framework/query/stringify_params.ts"],"names":["badParamValueChars","paramKeyIsPublic","assert","stringifyParamValue","stringifyParamValueUniquely","kBigSeparator","kParamKVSeparator","stringifyPublicParams","p","Object","keys","filter","k","map","stringifySingleParam","stringifyPublicParamsUniquely","sort","stringifySingleParamUniquely","join","v","stringifySingleParamValue","s","test"],"mappings":";AAAA;AACA,GADA;AAGEA,kBAHF;AAIEC,gBAJF;AAKO,oBALP;AAMA,SAASC,MAAT,QAAuB,iBAAvB;;AAEA,SAASC,mBAAT,EAA8BC,2BAA9B,QAAiE,uBAAjE;AACA,SAASC,aAAT,EAAwBC,iBAAxB,QAAiD,iBAAjD;;AAEA,OAAO,SAASC,qBAAT,CAA+BC,CAA/B,EAAwD;AAC7D,SAAOC,MAAM,CAACC,IAAP,CAAYF,CAAZ;AACJG,EAAAA,MADI,CACGC,CAAC,IAAIX,gBAAgB,CAACW,CAAD,CADxB;AAEJC,EAAAA,GAFI,CAEAD,CAAC,IAAIE,oBAAoB,CAACF,CAAD,EAAIJ,CAAC,CAACI,CAAD,CAAL,CAFzB,CAAP;AAGD;;AAED;AACA;AACA;AACA,OAAO,SAASG,6BAAT,CAAuCP,CAAvC,EAA8D;AACnE,QAAME,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYF,CAAZ,EAAeQ,IAAf,EAAb;AACA,SAAON,IAAI;AACRC,EAAAA,MADI,CACGC,CAAC,IAAIX,gBAAgB,CAACW,CAAD,CADxB;AAEJC,EAAAA,GAFI,CAEAD,CAAC,IAAIK,4BAA4B,CAACL,CAAD,EAAIJ,CAAC,CAACI,CAAD,CAAL,CAFjC;AAGJM,EAAAA,IAHI,CAGCb,aAHD,CAAP;AAID;;AAED,OAAO,SAASS,oBAAT,CAA8BF,CAA9B,EAAyCO,CAAzC,EAA2D;AAChE,SAAQ,GAAEP,CAAE,GAAEN,iBAAkB,GAAEc,yBAAyB,CAACD,CAAD,CAAI,EAA/D;AACD;;AAED,SAASF,4BAAT,CAAsCL,CAAtC,EAAiDO,CAAjD,EAAmE;AACjE,SAAQ,GAAEP,CAAE,GAAEN,iBAAkB,GAAEF,2BAA2B,CAACe,CAAD,CAAI,EAAjE;AACD;;AAED,SAASC,yBAAT,CAAmCD,CAAnC,EAA6D;AAC3D,QAAME,CAAC,GAAGlB,mBAAmB,CAACgB,CAAD,CAA7B;AACAjB,EAAAA,MAAM;AACJ,GAACF,kBAAkB,CAACsB,IAAnB,CAAwBD,CAAxB,CADG;AAEH,iDAA8CrB,kBAAmB,UAASqB,CAAE,EAFzE,CAAN;;AAIA,SAAOA,CAAP;AACD","sourcesContent":["import {\n  CaseParams,\n  ParamArgument,\n  badParamValueChars,\n  paramKeyIsPublic,\n} from '../params_utils.js';\nimport { assert } from '../util/util.js';\n\nimport { stringifyParamValue, stringifyParamValueUniquely } from './json_param_value.js';\nimport { kBigSeparator, kParamKVSeparator } from './separators.js';\n\nexport function stringifyPublicParams(p: CaseParams): string[] {\n  return Object.keys(p)\n    .filter(k => paramKeyIsPublic(k))\n    .map(k => stringifySingleParam(k, p[k]));\n}\n\n/**\n * An _approximately_ unique string representing a CaseParams value.\n */\nexport function stringifyPublicParamsUniquely(p: CaseParams): string {\n  const keys = Object.keys(p).sort();\n  return keys\n    .filter(k => paramKeyIsPublic(k))\n    .map(k => stringifySingleParamUniquely(k, p[k]))\n    .join(kBigSeparator);\n}\n\nexport function stringifySingleParam(k: string, v: ParamArgument) {\n  return `${k}${kParamKVSeparator}${stringifySingleParamValue(v)}`;\n}\n\nfunction stringifySingleParamUniquely(k: string, v: ParamArgument) {\n  return `${k}${kParamKVSeparator}${stringifyParamValueUniquely(v)}`;\n}\n\nfunction stringifySingleParamValue(v: ParamArgument): string {\n  const s = stringifyParamValue(v);\n  assert(\n    !badParamValueChars.test(s),\n    `JSON.stringified param value must not match ${badParamValueChars} - was ${s}`\n  );\n  return s;\n}\n"],"file":"stringify_params.js"}